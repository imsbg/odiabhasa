<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!--
      ================================================================
      ENGLISH SEO & BROWSER METADATA
      For Google Search, crawlers, and browser appearance.
      ================================================================
    -->
    <title>Odia Bhasa App | ଓଡ଼ିଆ ଭାଷା</title>
    <meta name="description" content="The complete app to learn and master the Odia (ଓଡ଼ିଆ) language. Study the alphabet, numbers, conjunct characters, and read classic literature like Madhu Barnabodha.">
    <meta name="keywords" content="learn odia, odia language app, odia alphabet, odia barnabodha, odia lipi, oriya language, Odia Bhasa App, Odia Bhasa Application, Learn Odia, Sandeep Biswal G, ଓଡ଼ିଆ ଭାଷା, ଓଡ଼ିଆ ବର୍ଣ୍ଣବୋଧ, ଓଡ଼ିଆ ଶିଖିବା">
    <meta name="author" content="Sandeep Biswal G">
    <meta name="theme-color" content="#FFFFFF">

    <!--
      ================================================================
      ENGLISH SOCIAL MEDIA META TAGS (Open Graph & Twitter)
      ================================================================
    -->
    <meta property="og:title" content="Odia Bhasa - The Complete Odia Learning App">
    <meta property="og:description" content="Learn Odia letters, numbers, and read classic literature. Click to open or install the app.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://odiabhasa.pages.dev/open">
    <meta property="og:site_name" content="Odia Bhasa App">
    <meta property="og:locale" content="en_US">
    <link rel="icon" href="https://imsbg.github.io/odiabhasa/images/app.png" type="image/png">
    <link rel="apple-touch-icon" href="https://imsbg.github.io/odiabhasa/images/app.png">
    
    <meta property="og:image" content="https://imsbg.github.io/odiabhasa/images/app.png">
    <meta property="og:image:width" content="512">
    <meta property="og:image:height" content="512">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Odia Bhasa - The Complete Odia Learning App">
    <meta name="twitter:description" content="Learn Odia letters, numbers, and read classic literature. Click to open or install the app.">
    <meta name="twitter:image" content="https://imsbg.github.io/odiabhasa/images/app.png">

    <!-- FAvicons -->
    <link rel="icon" type="image/png" href="https://imsbg.github.io/odiabhasa/images/app.png">
    <link rel="apple-touch-icon" href="https://imsbg.github.io/odiabhasa/images/app.png">

    <!-- Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Oriya:wght@400;700&display=swap" rel="stylesheet">

    <style>
        body {
            font-family: 'Noto Sans Oriya', sans-serif;
            background-color: #f5f7fa;
            color: #1d1d1d;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            text-align: center;
            padding: 20px;
            box-sizing: border-box;
        }
        .container {
            max-width: 450px;
        }
        .app-logo {
            width: 80px;
            height: 80px;
            margin-bottom: 20px;
            border-radius: 20%;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }
        h1 {
            font-weight: 700;
            font-size: 28px;
            margin-bottom: 12px;
            margin-top: 0;
        }
        p {
            font-size: 18px;
            line-height: 1.6;
        }
        .loader {
            border: 4px solid #e0e0e0;
            border-top: 4px solid #c80000;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 30px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .fallback-link {
            margin-top: 30px;
            font-size: 15px;
            color: #555;
        }
        .fallback-link a {
            color: #c80000;
            font-weight: bold;
            text-decoration: none;
        }
    </style>
</head>
<body>

    <div class="container">
        <img src="https://imsbg.github.io/odiabhasa/images/app.png" alt="Odia Bhasa Logo" class="app-logo">
        
        <!-- The H1 will be updated by JavaScript based on the URL -->
        <h1 id="page-title">ଓଡ଼ିଆ ଭାଷା ଆପ୍</h1>
        
        <p>ଆପ୍‌ରେ କଣ୍ଟେଣ୍ଟ ଖୋଲିବାକୁ ଚେଷ୍ଟା କରାଯାଉଛି...</p>
        <div class="loader"></div>
        <div class="fallback-link">
            ଯଦି ଆପଣ ସ୍ୱୟଂଚାଳିତ ଭାବରେ ନିର୍ଦ୍ଦେଶିତ ନୁହଁନ୍ତି, ତେବେ ଦୟାକରି 
            <a id="store-link" href="#">ପ୍ଲେ ଷ୍ଟୋରରୁ ଆପ୍ ଇନଷ୍ଟଲ୍ କରନ୍ତୁ କିମ୍ବା ଖୋଲନ୍ତୁ</a>
        </div>
    </div>

    <script>
      (function() {
        // --- 1. CONFIGURATION: Map URL parameters to Display Titles ---
        const titleMap = {
            "Swara": "ସ୍ଵରବର୍ଣ୍ଣ",
            "Byanjana": "ବ୍ୟଞ୍ଜନବର୍ଣ୍ଣ",
            "Sankhya": "୧ ରୁ ୧୦୦ ପର୍ଯ୍ୟନ୍ତ ସଂଖ୍ୟା",
            "Yukta": "ଯୁକ୍ତାକ୍ଷର",
            "Barna_Parichaya": "ବର୍ଣ୍ଣ ଗୁଡିକର ପରିଚୟ",
            "Matra": "ମାତ୍ରା",
            "Phala": "ସାତ ଟି ଫଳା",
            "Bahi": "ଓଡ଼ିଆ ବହି",
            "Book_Reader": "ବହି ପଢିବା ପୃଷ୍ଟା",
            "Menu": "ମେନୁ",
            "About": "ଆପ୍ ବିଷୟରେ",
            "History_Odisha": "ଓଡ଼ିଶାର ଇତିହାସ",
            "History_Lang": "ଓଡ଼ିଆ ଭାଷାର ଇତିହାସ",
            "Lipyantara": "ଲିପ୍ୟନ୍ତର (ଲିପି ରୂପାନ୍ତର)",
            "Odia_Calendar": "ଓଡ଼ିଆ କ୍ୟାଲେଣ୍ଡର",
            "Madhu_Barnabodha": "ଛବିଳ ମଧୁ ବର୍ଣ୍ଣବୋଧ",
            "Writing": "ଓଡ଼ିଆ ଅକ୍ଷର ଲେଖି ଶିଖନ୍ତୁ"
        };

        // --- 2. LOGIC: Identify Parameter & Update UI ---
        const queryString = window.location.search;
        let queryKey = queryString.substring(1); // Remove the '?'
        
        // Handle cases like ?Bahi=amagouraba (remove content after =)
        if (queryKey.includes('=')) {
            queryKey = queryKey.split('=')[0];
        }

        // Check if the key exists in our map
        if (titleMap[queryKey]) {
            const displayTitle = titleMap[queryKey];
            
            // Update Page Title (<title>)
            document.title = displayTitle + " | ଓଡ଼ିଆ ଭାଷା";
            
            // Update Visual Heading (<h1>)
            document.getElementById('page-title').textContent = displayTitle;
        }

        // --- 3. DEEP LINKING: Redirect Logic ---
        const PLAY_STORE_URL = 'https://play.google.com/store/apps/details?id=in.sandeep.odiabhasa';
        document.getElementById('store-link').href = PLAY_STORE_URL;
        
        const customSchemeUrl = 'odiabhasa://open' + queryString;
        
        // Attempt to launch the app
        window.location.href = customSchemeUrl;
        
        // If the app doesn't open after a delay, redirect to the Play Store
        const fallbackTimeout = setTimeout(function() {
            window.location.href = PLAY_STORE_URL;
        }, 2500);
        
        // If the user switches away from the browser, cancel the Play Store redirect
        function onVisibilityChange() {
          if (document.hidden || document.webkitHidden) {
            clearTimeout(fallbackTimeout);
          }
        }
        
        document.addEventListener('visibilitychange', onVisibilityChange, false);
        document.addEventListener('webkitvisibilitychange', onVisibilityChange, false);
        window.addEventListener('pagehide', () => clearTimeout(fallbackTimeout), false);
      })();
    </script>
</body>
</html>
